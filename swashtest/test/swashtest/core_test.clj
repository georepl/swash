(ns swashtest.core-test
  (:require [clojure.test :refer :all]
            [swashtest.core :refer :all]))

(def col1 '(([0 0.0] [5.794702 1.2154164] [38.245033 0.0] [76.49007 3.3375924] [120.5298 6.3907247] [156.45695 5.348716] [195.86093 3.5466816]
             [235.26491 2.430709] [273.50995 3.3838189] [314.07285 7.614548] [350.0 21.952135] [389.40396 18.878332] [427.64902 18.110573]
             [464.7351 5.542869] [502.98013 1.7967265] [542.3841 7.2748322] [584.10596 34.063126] [620.03314 41.571518] [658.27814 50.0]
             [700.0 24.307089]
            )
            ([0.0 14.936889] [15.369262 27.189575] [31.204258 49.98065] [46.57352 50.0] [61.94278 13.249701] [77.77778 10.600906] [93.61278 34.789986]
             [108.98203 44.759212] [124.81703 20.520063] [140.1863 7.6761417] [156.02129 9.769064] [171.39055 4.676365] [187.22556 3.3124251]
             [202.12907 4.676365] [217.96407 7.92798] [234.73055 11.967471] [249.16833 13.065026] [265.00333 4.140531] [279.90686 6.283676]
             [295.74185 9.858643] [311.57684 6.4244246] [327.87756 3.1217093] [344.1783 5.8460164] [359.54758 8.267516] [374.91684 6.7566175]
             [392.14905 0.0] [404.25815 2.8101454] [420.09314 6.8609385] [435.4624 8.229786] [452.22888 3.5245106] [466.66666 1.7427782]
             [482.50168 4.0772467] [498.8024 1.6929846] [515.10315 3.8605988] [531.4039 11.623025] [546.3074 2.5644581] [560.7452 2.2712612]
             [576.11444 1.5193452] [594.27814 0.0] [611.04456 6.359856] [622.6879 5.29988] [638.9887 0.8281063] [653.8922 4.5425224]
             [669.2615 0.80301213] [684.63074 2.4090364] [700.0 3.1175766]
            )
            ([0.0 4.8850284] [29.60199 9.891428] [59.20398 17.471313] [87.935326 10.070744] [117.537315 3.2826607] [145.39801 15.331519]
             [175.0 13.551928] [203.73134 4.3750944] [234.20398 2.2508526] [262.93533 2.5951712] [290.79602 5.410652] [321.26865 15.78581]
             [349.12936 17.713503] [383.08456 10.693741] [407.46268 11.428572] [437.93533 8.63915] [464.92538 13.794511] [495.398 13.232829]
             [523.2587 6.994296] [552.8607 6.1791263] [582.4627 9.550046] [612.9353 15.087747] [640.796 4.3750944] [671.2687 25.982483] [700.0 50.0])))


(comment
(deftest minmax-test
  (testing "obtaining the vector of extrema from a list"
    (is (= [-1.0 1.0] (reduce minmax [0.0 0.0] '(0.9 0.2 -0.5 -0.1 0.0 1.0 -1.0))))
    ))

(deftest scale-velocities-test
  (testing "scaling the y coordinates of a [x y t] list"
    (is (empty? (scale-velocities 0.1 '([1 0.9][1 0.2][1 -0.5][1 -0.1][1 0.0][1 0.6][1 -1.0]))))
    (is (empty? (scale-velocities 10 '([1 0.9][1 0.2][1 -0.5][1 -0.1][1 0.0][1 0.6][1 -1.0]))))))

(deftest draw-in-coordinates-test
  (testing "draw-in-coordinates"
    (is (empty? (draw-in-coordinates col1 100 100 250 250)))))
)
